<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 480" width="720" height="480" font-family="'Noto Sans KR', 'Malgun Gothic', sans-serif">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="110%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000022"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="720" height="480" fill="#f8f9fa" rx="12"/>

  <!-- Title -->
  <rect x="20" y="16" width="680" height="44" rx="8" fill="#2c3e50" filter="url(#shadow)"/>
  <text x="360" y="44" text-anchor="middle" fill="white" font-size="17" font-weight="bold">Vertical Partitioning — 무거운 TEXT 컬럼 분리</text>

  <!-- ═══ Before: Single Table ═══ -->
  <text x="360" y="88" text-anchor="middle" fill="#e74c3c" font-size="14" font-weight="bold">Before — 단일 테이블</text>

  <!-- posts table -->
  <rect x="60" y="100" width="600" height="110" rx="8" fill="#fff" stroke="#e74c3c" stroke-width="2" filter="url(#shadow)"/>

  <!-- Table header -->
  <rect x="60" y="100" width="600" height="30" rx="8" fill="#e74c3c"/>
  <rect x="60" y="118" width="600" height="12" fill="#e74c3c"/>
  <text x="360" y="120" text-anchor="middle" fill="white" font-size="13" font-weight="bold">posts</text>

  <!-- Columns -->
  <rect x="72" y="140" width="54" height="26" rx="5" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="99" y="157" text-anchor="middle" fill="#dc2626" font-size="10" font-weight="bold">id</text>

  <rect x="134" y="140" width="68" height="26" rx="5" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="168" y="157" text-anchor="middle" fill="#dc2626" font-size="10">title</text>

  <rect x="210" y="140" width="280" height="26" rx="5" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
  <text x="350" y="157" text-anchor="middle" fill="#dc2626" font-size="10" font-weight="bold">content (LONGTEXT) — 평균 6.5KB</text>

  <rect x="498" y="140" width="72" height="26" rx="5" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="534" y="157" text-anchor="middle" fill="#dc2626" font-size="10">author_id</text>

  <rect x="578" y="140" width="70" height="26" rx="5" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="613" y="157" text-anchor="middle" fill="#dc2626" font-size="10">view_cnt</text>

  <!-- Problem annotation -->
  <rect x="180" y="176" width="360" height="24" rx="12" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="360" y="193" text-anchor="middle" fill="#dc2626" font-size="11">목록 조회 시 content의 overflow page까지 읽을 수 있음</text>

  <!-- Arrow down -->
  <line x1="360" y1="210" x2="360" y2="248" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
  <rect x="328" y="218" width="64" height="20" rx="10" fill="#f59e0b"/>
  <text x="360" y="232" text-anchor="middle" fill="white" font-size="10" font-weight="bold">분리</text>

  <!-- ═══ After: Two Tables ═══ -->
  <text x="360" y="272" text-anchor="middle" fill="#16a34a" font-size="14" font-weight="bold">After — 메타데이터 + 본문 분리</text>

  <!-- posts (metadata) table -->
  <rect x="30" y="284" width="330" height="100" rx="8" fill="#fff" stroke="#16a34a" stroke-width="2" filter="url(#shadow)"/>

  <rect x="30" y="284" width="330" height="30" rx="8" fill="#16a34a"/>
  <rect x="30" y="302" width="330" height="12" fill="#16a34a"/>
  <text x="195" y="304" text-anchor="middle" fill="white" font-size="13" font-weight="bold">posts (메타데이터)</text>

  <rect x="42" y="324" width="44" height="24" rx="5" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="64" y="340" text-anchor="middle" fill="#16a34a" font-size="10" font-weight="bold">id</text>

  <rect x="94" y="324" width="60" height="24" rx="5" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="124" y="340" text-anchor="middle" fill="#16a34a" font-size="10">title</text>

  <rect x="162" y="324" width="66" height="24" rx="5" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="195" y="340" text-anchor="middle" fill="#16a34a" font-size="10">author_id</text>

  <rect x="236" y="324" width="60" height="24" rx="5" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="266" y="340" text-anchor="middle" fill="#16a34a" font-size="10">view_cnt</text>

  <rect x="304" y="324" width="44" height="24" rx="5" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
  <text x="326" y="340" text-anchor="middle" fill="#16a34a" font-size="10">...</text>

  <text x="195" y="374" text-anchor="middle" fill="#16a34a" font-size="11" font-weight="bold">가볍다 — Buffer Pool에 더 많은 행</text>

  <!-- post_contents table -->
  <rect x="390" y="284" width="300" height="100" rx="8" fill="#fff" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>

  <rect x="390" y="284" width="300" height="30" rx="8" fill="#3b82f6"/>
  <rect x="390" y="302" width="300" height="12" fill="#3b82f6"/>
  <text x="540" y="304" text-anchor="middle" fill="white" font-size="13" font-weight="bold">post_contents (본문)</text>

  <rect x="402" y="324" width="66" height="24" rx="5" fill="#eff6ff" stroke="#93c5fd" stroke-width="1"/>
  <text x="435" y="340" text-anchor="middle" fill="#2563eb" font-size="10" font-weight="bold">post_id</text>

  <rect x="476" y="324" width="200" height="24" rx="5" fill="#eff6ff" stroke="#3b82f6" stroke-width="2"/>
  <text x="576" y="340" text-anchor="middle" fill="#2563eb" font-size="10" font-weight="bold">content (LONGTEXT)</text>

  <text x="540" y="374" text-anchor="middle" fill="#3b82f6" font-size="11" font-weight="bold">상세 조회 시에만 JOIN</text>

  <!-- FK arrow -->
  <line x1="348" y1="336" x2="394" y2="336" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>

  <!-- Bottom insight -->
  <rect x="60" y="404" width="600" height="60" rx="10" fill="#f0fdf4" stroke="#86efac" stroke-width="1.5"/>
  <text x="360" y="428" text-anchor="middle" fill="#15803d" font-size="13" font-weight="bold">Confluence도 이 패턴 — CONTENT (메타) + BODYCONTENT (본문) 분리</text>
  <text x="360" y="448" text-anchor="middle" fill="#16a34a" font-size="11">TEXT/BLOB 평균 >4KB + 목록:상세 비율 5:1 이상이면 분리가 이득</text>
</svg>