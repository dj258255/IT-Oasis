<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 560" width="720" height="560" font-family="'Noto Sans KR', 'Malgun Gothic', sans-serif">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="110%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000022"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="720" height="560" fill="#f8f9fa" rx="12"/>

  <!-- Title -->
  <rect x="20" y="16" width="680" height="44" rx="8" fill="#2c3e50" filter="url(#shadow)"/>
  <text x="360" y="44" text-anchor="middle" fill="white" font-size="17" font-weight="bold">데이터 증가 대응 — 현업 의사결정 플로차트</text>

  <!-- ═══ Start: 문제 인식 ═══ -->
  <rect x="260" y="80" width="200" height="40" rx="20" fill="#e74c3c" filter="url(#shadow)"/>
  <text x="360" y="105" text-anchor="middle" fill="white" font-size="14" font-weight="bold">디스크가 부족하다!</text>

  <line x1="360" y1="120" x2="360" y2="152" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- ═══ Decision 1: 뭐가 용량을 먹나 ═══ -->
  <rect x="220" y="154" width="280" height="40" rx="8" fill="#fff" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
  <text x="360" y="179" text-anchor="middle" fill="#92400e" font-size="13" font-weight="bold">뭐가 용량을 먹는가?</text>

  <!-- Branch left: Index -->
  <line x1="280" y1="194" x2="160" y2="234" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="196" y="220" text-anchor="middle" fill="#7f8c8d" font-size="11">인덱스</text>

  <!-- Branch right: Data -->
  <line x1="440" y1="194" x2="560" y2="234" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="524" y="220" text-anchor="middle" fill="#7f8c8d" font-size="11">데이터</text>

  <!-- ═══ Left Branch: Index Solutions ═══ -->
  <rect x="60" y="236" width="200" height="36" rx="8" fill="#3b82f6" filter="url(#shadow)"/>
  <text x="160" y="259" text-anchor="middle" fill="white" font-size="12" font-weight="bold">검색 인덱스 외부 분리</text>

  <line x1="160" y1="272" x2="160" y2="300" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="60" y="302" width="200" height="48" rx="8" fill="#eff6ff" stroke="#93c5fd" stroke-width="1.5"/>
  <text x="160" y="322" text-anchor="middle" fill="#1d4ed8" font-size="11">Elasticsearch / Meilisearch</text>
  <text x="160" y="340" text-anchor="middle" fill="#3b82f6" font-size="10">FULLTEXT 인덱스 제거 → 디스크 확보</text>

  <!-- ═══ Right Branch: Data Solutions ═══ -->
  <rect x="460" y="236" width="200" height="36" rx="8" fill="#f59e0b" filter="url(#shadow)"/>
  <text x="560" y="259" text-anchor="middle" fill="white" font-size="12" font-weight="bold">데이터 규모 확인</text>

  <!-- Sub-branches from data -->
  <line x1="500" y1="272" x2="420" y2="310" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="440" y="298" text-anchor="middle" fill="#7f8c8d" font-size="10">&lt;100GB</text>

  <line x1="560" y1="272" x2="560" y2="310" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="590" y="298" text-anchor="middle" fill="#7f8c8d" font-size="10">100GB~1TB</text>

  <line x1="620" y1="272" x2="680" y2="310" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="676" y="298" text-anchor="middle" fill="#7f8c8d" font-size="10">&gt;1TB</text>

  <!-- <100GB: Disk expansion -->
  <rect x="340" y="312" width="160" height="56" rx="8" fill="#f0fdf4" stroke="#86efac" stroke-width="1.5"/>
  <text x="420" y="335" text-anchor="middle" fill="#15803d" font-size="11" font-weight="bold">디스크 확장</text>
  <text x="420" y="352" text-anchor="middle" fill="#16a34a" font-size="10">가장 비용 효율적</text>
  <text x="420" y="364" text-anchor="middle" fill="#4ade80" font-size="9">+ InnoDB 압축 고려</text>

  <!-- 100GB~1TB: Optimization -->
  <rect x="510" y="312" width="100" height="56" rx="8" fill="#fef3c7" stroke="#fbbf24" stroke-width="1.5"/>
  <text x="560" y="332" text-anchor="middle" fill="#92400e" font-size="11" font-weight="bold">최적화</text>
  <text x="560" y="348" text-anchor="middle" fill="#b45309" font-size="10">InnoDB 압축</text>
  <text x="560" y="362" text-anchor="middle" fill="#b45309" font-size="10">VP + 파티셔닝</text>

  <!-- >1TB: Architecture change -->
  <rect x="620" y="312" width="90" height="56" rx="8" fill="#fef2f2" stroke="#fca5a5" stroke-width="1.5"/>
  <text x="665" y="332" text-anchor="middle" fill="#dc2626" font-size="11" font-weight="bold">아키텍처</text>
  <text x="665" y="348" text-anchor="middle" fill="#ef4444" font-size="10">샤딩</text>
  <text x="665" y="362" text-anchor="middle" fill="#ef4444" font-size="10">Cold 아카이빙</text>

  <!-- ═══ Bottom: Key Principle ═══ -->
  <line x1="160" y1="350" x2="160" y2="400" stroke="#555" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="420" y1="368" x2="420" y2="400" stroke="#555" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="560" y1="368" x2="560" y2="400" stroke="#555" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="665" y1="368" x2="665" y2="400" stroke="#555" stroke-width="1" stroke-dasharray="4,3"/>

  <!-- Converge -->
  <line x1="160" y1="400" x2="360" y2="426" stroke="#555" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="420" y1="400" x2="360" y2="426" stroke="#555" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="560" y1="400" x2="360" y2="426" stroke="#555" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="665" y1="400" x2="360" y2="426" stroke="#555" stroke-width="1" stroke-dasharray="4,3"/>

  <!-- Core principle box -->
  <rect x="100" y="428" width="520" height="110" rx="10" fill="#fff" stroke="#8b5cf6" stroke-width="2" filter="url(#shadow)"/>

  <rect x="248" y="420" width="224" height="22" rx="11" fill="#8b5cf6"/>
  <text x="360" y="435" text-anchor="middle" fill="white" font-size="11" font-weight="bold">핵심 원칙</text>

  <text x="360" y="462" text-anchor="middle" fill="#5b21b6" font-size="14" font-weight="bold">압축이 아니라 "분리"다</text>
  <text x="360" y="484" text-anchor="middle" fill="#7c3aed" font-size="12">검색은 검색엔진으로</text>
  <text x="360" y="502" text-anchor="middle" fill="#7c3aed" font-size="12">오래된 데이터는 아카이브로</text>
  <text x="360" y="520" text-anchor="middle" fill="#7c3aed" font-size="12">첨부파일은 Object Storage로</text>
</svg>